[gd_scene load_steps=9 format=3 uid="uid://bhnqi4fnso1hh"]

[ext_resource type="PackedScene" uid="uid://dn4y6rw2w6ydt" path="res://level/arena/arena.tscn" id="1_44x8d"]
[ext_resource type="PackedScene" uid="uid://dxqe8ptih6fxs" path="res://entities/chicken_player/chicken_player.tscn" id="2_ivpvi"]
[ext_resource type="PackedScene" uid="uid://c28ev5h14ds8v" path="res://utilities/camera/follow_camera/follow_camera.tscn" id="3_0v1st"]
[ext_resource type="PackedScene" uid="uid://5dsmkedrprey" path="res://entities/enemies/ice_fox/ice_fox.tscn" id="4_0v1st"]
[ext_resource type="PackedScene" uid="uid://ccns8he8y64n3" path="res://entities/enemies/temp_enemy/temp_enemy.tscn" id="4_6gtgk"]
[ext_resource type="PackedScene" uid="uid://dqnetav07a5i1" path="res://entities/enemies/ball_chicken/ball_chicken.tscn" id="5_6gtgk"]
[ext_resource type="PackedScene" uid="uid://d0o65o2xsk53s" path="res://entities/enemies/woodpecker/woodpecker.tscn" id="5_cw150"]
[ext_resource type="Script" uid="uid://rfkmyg6k21l6" path="res://level/round/round_handler.gd" id="9_cw150"]

[node name="Level" type="Node3D"]

[node name="Arena" parent="." instance=ExtResource("1_44x8d")]

[node name="PlayerCamera" type="Camera3D" parent="."]
transform = Transform3D(0.996195, -0.000152115, 0.0871556, 0, 0.999999, 0.00174533, -0.0871557, -0.00173869, 0.996193, 0, 4, 28)

[node name="FollowCamera" parent="." node_paths=PackedStringArray("camera_reference", "entity_to_follow") instance=ExtResource("3_0v1st")]
transform = Transform3D(1, 0, 0, 0, 0.995861, -0.0908933, 0, 0.0908933, 0.995861, 7, 4, 24.5)
camera_reference = NodePath("../PlayerCamera")
entity_to_follow = NodePath("../Player")

[node name="Player" parent="." instance=ExtResource("2_ivpvi")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.5, 20)

[node name="EnemyPosition" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.5, -35)

[node name="PlayerPosition" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.5, 0)

[node name="RoundHandler" type="Node" parent="."]
script = ExtResource("9_cw150")
enemy_scenes = Array[PackedScene]([ExtResource("4_6gtgk"), ExtResource("5_cw150"), ExtResource("4_0v1st"), ExtResource("5_6gtgk")])
round_timer = true
waiting_time = 2.5

[node name="RoundBattleTimer" type="Timer" parent="RoundHandler"]
wait_time = 120.0
one_shot = true

[node name="RoundIntermissionTimer" type="Timer" parent="RoundHandler"]
wait_time = 30.0
one_shot = true

[connection signal="timeout" from="RoundHandler/RoundBattleTimer" to="RoundHandler" method="_on_round_battle_timer_timeout"]
[connection signal="timeout" from="RoundHandler/RoundIntermissionTimer" to="RoundHandler" method="_on_round_intermission_timer_timeout"]
